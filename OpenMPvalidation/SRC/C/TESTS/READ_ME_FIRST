Introduction:
--------------------------------------

This beta version is aimed to be robust even if some test functions 
cannot pass the compilation with the help of Bash scripting and gmake.

It also tries to provide customized test functions in arbitrary order 
 defined by users.

Usage:
--------------------------------------------
Edit Makefile first to set RIGHT compiler and its options to handle 
   OpenMP test files. Some popular compilers are added already with comments.

   gmake test
OR gmake test testfile=ALL_TEST|CUSTOM_TEST|OMP1_TEST|OMP2_TEST ..
   gmake run

To clean:
   gmake clean

The default testfile used in 'gmake test' is predefined OMP1_TEST.
CUSTOM_TEST is user defined test set containing arbitrary tests 
from ALL_TEST. 
OMP1_TEST, OMP2_TEST,etc are predefined test sets.

Results:
---------------------------------------------
* a file named failed.compilation contains test functions cannot pass the compilation, mostly unsupported OpenMP directives in the tested compiler
* test.log:detailed test information for each test
  

Changes:
------------------------------------------
* Only one main.c is used for all test cases.
* Predefined test sets: ALL_TEST, OMP1_TEST, OMP2_TEST, and user defined 
  test set CUSTOM_TEST
* Separated files for test functions, file names are the same as function names
* In Makefile, it invokes a hidden bash script preCompilation used to test 
  feasible test functions and generated a header file feasible_test.h used
  in main.c
* changed the names of omp_check_time, omp_check_num_threads, omp_check_tickes_time to check_omp_time, check_omp_num_threads, check_omp_tickes_time to be consistent to other names, also facilitating the auto-generation of the c header.

How to add a new test:
------------------------------------------
It becomes much easier to add a new test than before:
* add test functions check_mytest_abc() and crosscheck_mytest_abc() 
	in a file named mytest_abc.c
* add the name into any test set file in a new line:
  for example: add it into CUSTOM_TEST in a new line: mytest_abc
* To run the new test:
   gmake clean
   gmake test testfile=CUSTOM_TEST
   gmake run

Limitations:
-----------------------------------------
* gmake is preferred, Solaris make will prompt error in reading Makefile
* cannot catch link phase error yet,ie. undefined reference to some 
library calls in OMP 2.0 

Chunhua Liao, University of Houston, May 12, 2005

